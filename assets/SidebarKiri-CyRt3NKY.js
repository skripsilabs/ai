import{c as n,r as d,j as e,B as I,N as u}from"./index-CmTdOkCE.js";import{L,M as P}from"./message-square-text-C4ZgVMEQ.js";import{P as B,T}from"./trash-2-DHKGzrGS.js";import{C as K}from"./check-JB_RGbWD.js";import{B as M}from"./book-open-8_3b7RbF.js";import{H as $}from"./heart-BjPVmpdp.js";import{D as _}from"./download-BJHPv00k.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=n("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=n("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=n("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=n("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=n("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=n("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),te=({sections:x,activeSectionId:m,setActiveSectionId:b,handleAddSection:k,handleDeleteSection:F,updateActiveSection:C,onReorderSections:E,activeSectionTitle:R,activeView:r,onNavigate:l})=>{const[p,f]=d.useState(null),[o,g]=d.useState(null),[i,y]=d.useState(null);d.useEffect(()=>{const t=a=>{a.preventDefault(),f(a)};return window.addEventListener("beforeinstallprompt",t),()=>window.removeEventListener("beforeinstallprompt",t)},[]);const w=async()=>{if(p){p.prompt();const{outcome:t}=await p.userChoice;t==="accepted"&&f(null)}else{const t=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;alert(t?`ðŸ“² Cara Install di iOS:
1. Klik tombol Share (ikon panah kotak) di Safari.
2. Pilih 'Tambah ke Layar Utama' (Add to Home Screen).`:`ðŸ’» Cara Install:
Klik ikon (+) atau 'Install' di address bar browser (Chrome/Edge), atau buka menu browser -> 'Install App'.`)}},N=t=>{i!==t&&(b(t),r!=="editor"&&l("editor"))},j=(t,a)=>{t&&t.stopPropagation(),b(a),y(a),u.haptic("light")},v=()=>{y(null)},A=t=>{t.key==="Enter"&&v()},D=(t,a)=>{g(a),t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("text/plain",a.toString()),u.haptic("light")},S=(t,a)=>{t.preventDefault(),t.dataTransfer.dropEffect="move"},z=(t,a)=>{if(t.preventDefault(),o===null||o===a)return;const s=[...x],[c]=s.splice(o,1);s.splice(a,0,c),E(s),g(null),u.haptic("medium")},h=({view:t,icon:a,label:s})=>{const c=t==="chat"?r==="chat"||r==="chat-global":r===t;return e.jsxs("button",{onClick:()=>l(t),className:`w-full text-left px-3 py-2.5 rounded-xl text-sm transition-all duration-300 flex items-center gap-3 relative group overflow-hidden ${c?"bg-[#3EC1FF]/10 text-[#3EC1FF] font-bold border border-[#3EC1FF]/20 shadow-[0_0_15px_rgba(62,193,255,0.1)]":"text-slate-400 hover:text-white"}`,children:[e.jsx("div",{className:`absolute inset-0 bg-slate-800/50 transform origin-left transition-transform duration-300 ${c?"scale-x-100 opacity-0":"scale-x-0 group-hover:scale-x-100"}`}),e.jsx(a,{size:18,className:"relative z-10 transition-transform group-hover:scale-110 duration-300"}),e.jsx("span",{className:"relative z-10",children:s})]})};return e.jsxs("div",{className:"w-full md:w-80 bg-[#0A1A2E] text-slate-200 flex flex-col shadow-2xl z-10 shrink-0 h-full md:border-r border-slate-900",children:[e.jsx("div",{className:"p-6 border-b border-slate-900 bg-[#0A1A2E]",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3 cursor-pointer group",onClick:()=>l("home"),title:"Kembali ke Beranda",children:[e.jsx("div",{className:"p-2 rounded-xl bg-slate-900 shadow-lg shadow-black/20 border border-slate-800 group-hover:border-[#3EC1FF]/50 transition-all duration-500 group-hover:rotate-6",children:e.jsx(I,{className:"w-6 h-6 text-[#3EC1FF]"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold tracking-tight text-white group-hover:text-[#3EC1FF] transition-colors",children:"SkripsiLab"}),e.jsx("p",{className:"text-[10px] text-slate-500 font-medium tracking-wide",children:"AI Research Assistant"})]})]})})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6 scroll-dark flex flex-col bg-[#0A1A2E]",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(h,{view:"pustaka",icon:L,label:"Pustaka Ilmiah Ku"}),e.jsx(h,{view:"analisa",icon:O,label:"Analisis Data"}),e.jsx(h,{view:"chat",icon:P,label:"Chat AI & Komunitas"})]}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 px-1",children:[e.jsxs("label",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-500 flex items-center gap-2",children:[e.jsx(q,{size:12}),"Daftar Isi"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[10px] font-mono text-[#3EC1FF] bg-[#3EC1FF]/10 px-2 py-0.5 rounded-full border border-[#3EC1FF]/20",children:x.length}),e.jsx("button",{onClick:k,className:"bg-[#3EC1FF]/10 hover:bg-[#3EC1FF] text-[#3EC1FF] hover:text-[#0A1A2E] p-1 rounded-lg transition-all border border-[#3EC1FF]/20 hover:border-[#3EC1FF] flex items-center justify-center active:scale-90",title:"Tambah Bagian Baru",children:e.jsx(B,{size:12,strokeWidth:3})})]})]}),e.jsx("div",{className:"space-y-1 flex-1 overflow-y-auto pr-1 scroll-dark pb-10",children:x.map((t,a)=>e.jsxs("div",{draggable:i!==t.id,onDragStart:s=>D(s,a),onDragOver:s=>S(s),onDrop:s=>z(s,a),onClick:()=>N(t.id),className:`w-full text-left px-2 py-3 rounded-xl text-sm transition-all duration-300 flex items-center justify-between group cursor-pointer border mb-1.5 relative overflow-hidden ${r==="editor"&&m===t.id?"bg-slate-800/80 border-slate-700 text-white font-medium pl-3":"bg-transparent border-transparent text-slate-400 hover:bg-slate-900 hover:text-slate-200"} ${o===a?"opacity-50 border-dashed border-slate-600 bg-slate-900":""}`,children:[e.jsx("div",{className:`absolute left-0 top-2 bottom-2 w-1 bg-[#3EC1FF] rounded-r-full transition-all duration-300 ${r==="editor"&&m===t.id?"opacity-100 shadow-[0_0_10px_#3EC1FF]":"opacity-0 -translate-x-full"}`}),e.jsxs("div",{className:"flex items-center gap-2 overflow-hidden min-w-0 flex-1",children:[e.jsx("div",{className:"cursor-grab active:cursor-grabbing text-slate-600 hover:text-slate-400 p-1",children:e.jsx(H,{size:14})}),i===t.id?e.jsx("input",{type:"text",autoFocus:!0,value:t.title,onChange:s=>C({title:s.target.value}),onBlur:v,onKeyDown:A,className:"bg-transparent border-b border-[#3EC1FF] text-white text-sm outline-none w-full px-1 py-0.5 focus:ring-0"}):e.jsx("span",{className:"truncate transition-transform duration-300 flex-1 select-none",onDoubleClick:()=>j(null,t.id),children:t.title||"Tanpa Judul"})]}),e.jsxs("div",{className:"flex items-center gap-1 shrink-0 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:s=>F(t.id,s),className:"p-1.5 rounded-lg transition-all text-slate-600 hover:text-red-400 hover:bg-slate-950",title:"Hapus Bagian",children:e.jsx(T,{size:13})}),e.jsx("button",{onClick:s=>j(s,t.id),className:`p-1.5 rounded-lg transition-all ${i===t.id?"text-[#3EC1FF] bg-[#3EC1FF]/10":"text-slate-600 hover:text-[#3EC1FF] hover:bg-slate-950"}`,title:"Edit Judul",children:i===t.id?e.jsx(K,{size:13}):e.jsx(G,{size:13})})]})]},t.id))})]})]}),e.jsxs("div",{className:"p-4 border-t border-slate-900 bg-[#0A1A2E] space-y-3",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>l("tips"),className:`flex-1 px-1 py-2 rounded-xl text-[10px] font-bold transition-all duration-300 flex flex-col items-center justify-center gap-1 border ${r==="tips"?"bg-[#3EC1FF]/10 text-[#3EC1FF] border-[#3EC1FF]/20":"bg-slate-800/50 text-slate-400 border-transparent hover:bg-slate-800 hover:text-white"}`,children:[e.jsx(M,{size:16}),e.jsx("span",{children:"Tips"})]}),e.jsxs("button",{onClick:()=>l("donasi"),className:`flex-1 px-1 py-2 rounded-xl text-[10px] font-bold transition-all duration-300 flex flex-col items-center justify-center gap-1 border ${r==="donasi"?"bg-pink-500/10 text-pink-500 border-pink-500/20":"bg-slate-800/50 text-slate-400 border-transparent hover:bg-slate-800 hover:text-white"}`,children:[e.jsx($,{size:16}),e.jsx("span",{children:"Dukungan"})]}),e.jsxs("button",{onClick:()=>l("settings"),className:`flex-1 px-1 py-2 rounded-xl text-[10px] font-bold transition-all duration-300 flex flex-col items-center justify-center gap-1 border ${r==="settings"?"bg-slate-700 text-white border-slate-600 shadow-md":"bg-slate-800/50 text-slate-400 border-transparent hover:bg-slate-800 hover:text-white"}`,children:[e.jsx(J,{size:16}),e.jsx("span",{children:"Pengaturan"})]})]}),e.jsxs("div",{className:"pt-2 flex items-center justify-between text-[10px] text-slate-600",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>l("terms"),className:"hover:text-[#3EC1FF] transition-colors",children:"Kebijakan"}),e.jsx("span",{children:"â€¢"}),e.jsx("button",{onClick:()=>l("legal"),className:"hover:text-[#3EC1FF] transition-colors",children:"Legalitas"})]}),e.jsxs("button",{onClick:w,className:"flex items-center gap-1.5 text-[#3EC1FF] hover:text-white transition-colors bg-[#3EC1FF]/10 px-2 py-1 rounded-lg hover:bg-[#3EC1FF] group",title:"Install Aplikasi",children:[e.jsx(_,{size:10,className:"group-hover:animate-bounce"}),e.jsx("span",{className:"font-bold",children:"App"})]})]})]})]})};export{O as B,H as G,ee as M,G as P,te as S};
